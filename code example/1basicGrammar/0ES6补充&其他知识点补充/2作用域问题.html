<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<button>按钮</button>
<button>按钮</button>
<button>按钮</button>
<button>按钮</button>
<button>按钮</button>

<script >
  var myBtn = document.getElementsByTagName('button');
  // for (var i = 0; i < myBtn.length; i++) {
  //   myBtn[i].onclick = function () {
  //     console.log('我是第' + i + '个按钮')
  //   }
  // }// 这种操作 你不管点击哪个按钮都只是显示第五个 这就是因为var没有块级作用域

//  如果想用仍然想用var，可以用闭包来解决（当然加个index自定义属性也行得通，这里就不说了）
//   for (var i = 0; i < myBtn.length; i++) {
//     (function (num) { // 这样会有什么效果呢，就是var在函数里面是有作用域的，所以进行闭包的时候，传入i，相当于这里有个num变量，每次接收i，作为缓存，然后num不会受外界i的影响了。
//       myBtn[i].onclick = function () {
//         console.log('我是第' + num + '个按钮')
//       }
//     })(i)
//   }


//  还可以用es6的let来进行解决，let是有块级作用域的
  for (let i = 0; i < myBtn.length; i++) {
    myBtn[i].onclick = function () {
      console.log('我是第' + i + '个按钮')
    }
  }// 仅仅是是将var改成let就可以实现上面闭包的效果，其实本质差不多，都是类似在for里面开了个新的变量作为缓存i的值，这样就不会被外界的i的变化来影响了。
</script>
</body>
</html>
